// SPDX-License-Identifier: MIT
pragma solidity ^0.8.28; contract AgentRegistry{ struct Agent{bytes32 id; string role; string meta; bool active;} mapping(address=>Agent) public agents; event Registered(address indexed agent, bytes32 id, string role, string meta); event Status(address indexed agent, bool active); function register(bytes32 id,string calldata role,string calldata meta) external {agents[msg.sender]=Agent({id:id,role:role,meta:meta,active:true}); emit Registered(msg.sender,id,role,meta);} function setActive(bool on) external {require(agents[msg.sender].id!=bytes32(0),'not registered'); agents[msg.sender].active=on; emit Status(msg.sender,on);} }
